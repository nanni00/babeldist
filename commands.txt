# to know database size:
du -hc $NEO4J_HOME/data/databases/graph_name.db/*store.db*

#       DB graph_name   SIZE(MB) N_PROPS   NODES   EDGES
# neo4j                  5.4        2       ~60000  ~60000
# BabelExpDBnoLemma      6.7        1       65422   140872
# BabelExpDBwithLemma    8.0        2       65410   140838


# graph projection:
CALL gds.graph.project(
    'BabelExpProj',
    'Synset',
    {
        IS_A: {
            orientation: 'UNDIRECTED'
        }
    }
)

# BabelExpDBnoLemma     5765 ms
# BabelExpDBwithLemma    

# to get statistics on the number of communities
CALL gds.louvain.stats('BabelExpProj', {includeIntermediateCommunities: true}) 
# DB graph_name         time        communities
# BabelExpDBnoLemma     8212 ms     149
# BabelExpDBwithLemma

# to compute the community detection over the projection
CALL gds.louvain.mutate(
    'BabelExpProj',
    {
        mutateProperty: 'communityIDs',
        includeIntermediateCommunities: true
    }
)
# 3356 ms - results in log_neo4j/36326.json

CALL gds.louvain.write(
    'BabelExpProj',
    {
        writeProperty: 'communityIDs',
        includeIntermediateCommunities: true
    }
)

